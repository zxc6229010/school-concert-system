<!doctype html>
<html lang="zh-Hant">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>學生入口</title>
  </head>

  <body>
    <h1 id="title">載入中…</h1>
    <p id="subtitle"></p>

    <p><b>時間：</b><span id="datetime"></span></p>
    <p><b>地點：</b><span id="location"></span></p>

    <h3>注意事項</h3>
    <p id="notice"></p>

    <p id="status" style="margin-top:16px;color:#666;"></p>

    <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
      import { getFirestore, doc, getDoc } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

      // ✅ 這裡貼上你 Firebase 給的 firebaseConfig（整段原樣貼上）
     const firebaseConfig = {
  apiKey: "AIzaSyDu4_bW4_5Sq9ZLESIvBQGWPADak7rDlV4",
  authDomain: "concert-31d86.firebaseapp.com",
  projectId: "concert-31d86",
  storageBucket: "concert-31d86.firebasestorage.app",
  messagingSenderId: "996102236874",
  appId: "1:996102236874:web:ec371def118a438708e233",
  measurementId: "G-W90F86QPJZ"
};

      const app = initializeApp(firebaseConfig);
      const db = getFirestore(app);

      async function loadEvent() {
        const status = document.getElementById("status");
        status.textContent = "正在讀取活動資料…";

        try {
          const ref = doc(db, "eventConfig", "current");
          const snap = await getDoc(ref);

          if (!snap.exists()) {
            status.textContent = "找不到 eventConfig/current（請確認 Firestore 已建立 eventConfig → current）。";
            return;
          }

          const data = snap.data();

          document.getElementById("title").textContent = data.title ?? "";
          document.getElementById("subtitle").textContent = data.subtitle ?? "";
          document.getElementById("datetime").textContent = data.datetime ?? "";
          document.getElementById("location").textContent = data.location ?? "";
          document.getElementById("notice").textContent = data.notice ?? "";

          status.textContent = "讀取成功 ✅";
        } catch (err) {
          console.error(err);
          status.textContent = "讀取失敗（請看瀏覽器 Console 錯誤訊息）。";
        }
      }

      loadEvent();
    </script>
  </body>
</html>